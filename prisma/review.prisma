model Review {
    id          String       @id @default(uuid())
    userId      String
    user        User         @relation(fields: [userId], references: [id])
    productId   String
    product     Product      @relation(fields: [productId], references: [id])
    description String       @db.VarChar(555)
    status      ReviewStatus @default(APPROVED)
    createdAt   DateTime     @default(now())
    updatedAt   DateTime     @updatedAt
    parentId    String?
    parent      Review?      @relation("CommentReplies", fields: [parentId], references: [id], onDelete: Cascade)
    replies     Review[]     @relation("CommentReplies")

    @@index([productId])
    @@index([userId])
}

enum ReviewStatus {
    APPROVED
    REJECT
}
